Version 4
SHEET 1 3944 2308
WIRE 2720 -528 2592 -528
WIRE 2992 -528 2784 -528
WIRE 416 -512 288 -512
WIRE 688 -512 480 -512
WIRE -736 -352 -736 -384
WIRE 2352 -336 2352 -464
WIRE 2592 -336 2592 -528
WIRE 2592 -336 2352 -336
WIRE 2704 -336 2592 -336
WIRE 2992 -336 2992 -528
WIRE 2992 -336 2800 -336
WIRE 3472 -336 2992 -336
WIRE 3840 -336 3472 -336
WIRE 48 -320 48 -448
WIRE 288 -320 288 -512
WIRE 288 -320 48 -320
WIRE 400 -320 288 -320
WIRE 688 -320 688 -512
WIRE 688 -320 496 -320
WIRE 1168 -320 688 -320
WIRE 1536 -320 1168 -320
WIRE -528 -304 -528 -432
WIRE 3472 -272 3472 -336
WIRE 1168 -256 1168 -320
WIRE 3840 -176 3840 -336
WIRE 1536 -160 1536 -320
WIRE 3472 -128 3472 -192
WIRE 3472 -128 3296 -128
WIRE 1168 -112 1168 -176
WIRE 1168 -112 992 -112
WIRE -720 -80 -720 -96
WIRE -592 -80 -592 -96
WIRE 3472 -48 3472 -128
WIRE 1168 -32 1168 -112
WIRE 3472 48 3472 32
WIRE 3840 48 3840 -96
WIRE 3840 48 3472 48
WIRE 2896 64 2896 32
WIRE 592 80 592 48
WIRE 3296 80 3296 -128
WIRE 3296 80 2928 80
WIRE 992 96 992 -112
WIRE 992 96 624 96
WIRE 2752 96 2752 -272
WIRE 2864 96 2752 96
WIRE 3840 96 3840 48
WIRE 448 112 448 -256
WIRE 560 112 448 112
WIRE 3056 112 2928 112
WIRE 752 128 624 128
WIRE 2896 144 2896 128
WIRE 3296 144 3296 80
WIRE 592 160 592 144
WIRE 992 160 992 96
WIRE 1168 160 1168 48
WIRE 1536 160 1536 -80
WIRE 1536 160 1168 160
WIRE 3056 176 3056 112
WIRE 752 192 752 128
WIRE 3840 224 3840 160
WIRE 3296 272 3296 224
WIRE 992 288 992 240
WIRE 3504 384 3504 368
WIRE 1200 400 1200 384
WIRE 3840 400 3840 288
WIRE 3840 400 3536 400
WIRE 1536 416 1536 160
WIRE 1536 416 1232 416
WIRE 3296 416 3296 336
WIRE 3472 416 3296 416
WIRE 992 432 992 352
WIRE 1168 432 992 432
WIRE 3616 432 3536 432
WIRE 1312 448 1232 448
WIRE 3504 480 3504 448
WIRE 1200 496 1200 464
WIRE 3616 528 3616 432
WIRE 1312 544 1312 448
WIRE 3840 544 3840 400
WIRE 1536 560 1536 416
WIRE 3840 688 3840 624
WIRE 1536 704 1536 640
WIRE 384 1072 256 1072
WIRE 656 1072 448 1072
WIRE 16 1264 16 1136
WIRE 224 1264 16 1264
WIRE 256 1264 256 1072
WIRE 256 1264 224 1264
WIRE 368 1264 256 1264
WIRE 656 1264 656 1072
WIRE 656 1264 464 1264
WIRE 1136 1264 656 1264
WIRE 1504 1264 1136 1264
WIRE 224 1312 224 1264
WIRE 1136 1328 1136 1264
WIRE 384 1392 384 1312
WIRE 416 1392 416 1328
WIRE 416 1392 384 1392
WIRE 1504 1424 1504 1264
WIRE 224 1456 224 1392
WIRE 416 1456 416 1392
WIRE 416 1456 224 1456
WIRE 1136 1472 1136 1408
WIRE 1136 1472 960 1472
WIRE 1136 1552 1136 1472
WIRE 1136 1648 1136 1632
WIRE 1504 1648 1504 1504
WIRE 1504 1648 1136 1648
WIRE 560 1664 560 1632
WIRE 960 1680 960 1472
WIRE 960 1680 592 1680
WIRE 416 1696 416 1456
WIRE 528 1696 416 1696
WIRE 1504 1696 1504 1648
WIRE 720 1712 592 1712
WIRE 560 1744 560 1728
WIRE 960 1744 960 1680
WIRE 720 1776 720 1712
WIRE 1504 1824 1504 1760
WIRE 960 1872 960 1824
WIRE 1168 1984 1168 1968
WIRE 1504 2000 1504 1888
WIRE 1504 2000 1200 2000
WIRE 960 2016 960 1936
WIRE 1136 2016 960 2016
WIRE 1280 2032 1200 2032
WIRE 1168 2080 1168 2048
WIRE 1280 2128 1280 2032
WIRE 1504 2144 1504 2000
WIRE 1504 2288 1504 2224
FLAG 752 192 Vdac1
FLAG 1536 704 0
FLAG 48 -448 Vin
FLAG 1312 544 Vdac2
FLAG -528 -224 0
FLAG -528 -432 Vin
FLAG -720 0 0
FLAG -592 0 0
FLAG -720 -96 Vdac1
FLAG -592 -96 Vdac2
FLAG 592 160 0
FLAG -736 -272 0
FLAG -736 -384 Vcc_opamp
FLAG 592 48 Vcc_opamp
FLAG 1200 384 0
FLAG 1200 496 Vcc_opamp
FLAG 3056 176 Vdac1
FLAG 3840 688 0
FLAG 2352 -464 Vin
FLAG 3616 528 Vdac2
FLAG 2896 144 0
FLAG 2896 32 Vcc_opamp
FLAG 3504 368 0
FLAG 3504 480 Vcc_opamp
FLAG 720 1776 Vdac1
FLAG 1504 2288 0
FLAG 16 1136 Vin
FLAG 1280 2128 Vdac2
FLAG 560 1744 0
FLAG 560 1632 Vcc_opamp
FLAG 1168 1968 0
FLAG 1168 2080 Vcc_opamp
SYMBOL npn 400 -256 R270
SYMATTR InstName Q1
SYMATTR Value TIP41C
SYMBOL res 1152 -272 R0
SYMATTR InstName R5
SYMATTR Value 75k
SYMBOL res 1152 -48 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 976 144 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL diode 1008 352 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4007
SYMBOL res 1520 544 R0
SYMATTR InstName R9
SYMATTR Value .1
SYMBOL voltage -528 -320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -592 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 96 Invisible 2
SYMATTR InstName V2
SYMATTR Value PWL(0 0 1 2.5)
SYMBOL voltage -720 -96 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL(0 0 .1 0 .9 2.5)
SYMATTR InstName V3
SYMBOL res 1520 -176 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL OpAmps\\LT1006 592 48 M0
SYMATTR InstName U3
SYMBOL voltage -736 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 20
SYMBOL OpAmps\\LT1006 1200 496 R180
SYMATTR InstName U1
SYMBOL diode 480 -528 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4007
SYMBOL npn 2704 -272 R270
SYMATTR InstName Q2
SYMATTR Value TIP41C
SYMBOL res 3456 -288 R0
SYMATTR InstName R2
SYMATTR Value 75k
SYMBOL res 3456 -64 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 3280 128 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL diode 3312 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4007
SYMBOL res 3824 528 R0
SYMATTR InstName R8
SYMATTR Value .1
SYMBOL res 3824 -192 R0
SYMATTR InstName R10
SYMATTR Value 10
SYMBOL OpAmps\\LT1006 2896 32 M0
SYMATTR InstName U2
SYMBOL OpAmps\\LT1006 3504 480 R180
SYMATTR InstName U4
SYMBOL diode 2784 -544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4007
SYMBOL diode 3824 96 R0
SYMATTR InstName D5
SYMATTR Value 1N4007
SYMBOL diode 3824 224 R0
SYMATTR InstName D6
SYMATTR Value 1N4007
SYMBOL res 1120 1312 R0
SYMATTR InstName R11
SYMATTR Value 75k
SYMBOL res 1120 1536 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 944 1728 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL diode 976 1936 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value 1N4007
SYMBOL res 1488 2128 R0
SYMATTR InstName R14
SYMATTR Value .1
SYMBOL res 1488 1408 R0
SYMATTR InstName R15
SYMATTR Value 10
SYMBOL OpAmps\\LT1006 560 1632 M0
SYMATTR InstName U5
SYMBOL OpAmps\\LT1006 1168 2080 R180
SYMATTR InstName U6
SYMBOL diode 448 1056 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D8
SYMATTR Value 1N4007
SYMBOL diode 1488 1696 R0
SYMATTR InstName D9
SYMATTR Value 1N4007
SYMBOL diode 1488 1824 R0
SYMATTR InstName D10
SYMATTR Value 1N4007
SYMBOL pmos 464 1312 M270
SYMATTR InstName M1
SYMATTR Value IRF9Z24S_L
SYMBOL res 208 1296 R0
SYMATTR InstName R16
SYMATTR Value 10k
TEXT -712 120 Left 2 !.tran 2

Version 4
SHEET 1 5748 2760
WIRE 1696 -928 1616 -928
WIRE 1952 -736 1904 -736
WIRE 2016 -736 1952 -736
WIRE 2240 -736 2016 -736
WIRE 2368 -736 2240 -736
WIRE 1904 -720 1904 -736
WIRE 2240 -704 2240 -736
WIRE 3536 -672 3488 -672
WIRE 3600 -672 3536 -672
WIRE 3824 -672 3600 -672
WIRE 4240 -672 3824 -672
WIRE 4240 -624 4240 -672
WIRE 2240 -560 2240 -624
WIRE 2240 -560 2224 -560
WIRE 2400 -560 2384 -560
WIRE 2320 -512 2320 -560
WIRE 2320 -512 2288 -512
WIRE 2400 -512 2400 -560
WIRE 2416 -512 2400 -512
WIRE 3824 -496 3824 -672
WIRE 3824 -496 3808 -496
WIRE 4048 -496 4032 -496
WIRE 1968 -464 1936 -464
WIRE 2320 -464 2320 -512
WIRE 2400 -464 2400 -512
WIRE 2400 -464 2384 -464
WIRE 3968 -448 3968 -496
WIRE 3968 -448 3936 -448
WIRE 4048 -448 4048 -496
WIRE 4064 -448 4048 -448
WIRE 3552 -400 3520 -400
WIRE 3968 -400 3968 -448
WIRE 4048 -400 4048 -448
WIRE 4048 -400 4032 -400
WIRE 1600 -384 1600 -464
WIRE 1600 -336 1600 -384
WIRE 1936 -336 1936 -464
WIRE 1936 -336 1600 -336
WIRE 3184 -320 3184 -400
WIRE 1600 -288 1600 -336
WIRE 3184 -272 3184 -320
WIRE 3520 -272 3520 -400
WIRE 3520 -272 3184 -272
WIRE 1968 -240 1872 -240
WIRE 2064 -240 1968 -240
WIRE 2336 -240 2336 -272
WIRE 2336 -240 2144 -240
WIRE 3184 -224 3184 -272
WIRE 3552 -176 3456 -176
WIRE 3648 -176 3552 -176
WIRE 3920 -176 3920 -208
WIRE 3920 -176 3728 -176
WIRE 1968 -128 1968 -240
WIRE 2064 -128 1968 -128
WIRE 2192 -128 2128 -128
WIRE 3552 -64 3552 -176
WIRE 3648 -64 3552 -64
WIRE 3776 -64 3712 -64
WIRE 1968 -32 1968 -128
WIRE 2000 -32 1968 -32
WIRE 2112 -16 2064 -16
WIRE 2192 -16 2192 -128
WIRE 2192 -16 2176 -16
WIRE 2224 -16 2192 -16
WIRE 2336 -16 2336 -240
WIRE 2336 -16 2304 -16
WIRE 2400 -16 2336 -16
WIRE 1792 0 1744 0
WIRE 1904 0 1872 0
WIRE 2000 0 1904 0
WIRE 3552 32 3552 -64
WIRE 3584 32 3552 32
WIRE 3696 48 3648 48
WIRE 3776 48 3776 -64
WIRE 3776 48 3760 48
WIRE 3808 48 3776 48
WIRE 3920 48 3920 -176
WIRE 3920 48 3888 48
WIRE 3984 48 3920 48
WIRE 3376 64 3328 64
WIRE 3488 64 3456 64
WIRE 3584 64 3488 64
WIRE 1904 80 1904 64
WIRE 3488 144 3488 128
WIRE 1840 224 1792 224
WIRE 1968 224 1920 224
WIRE 2064 224 1968 224
WIRE 2192 224 2128 224
WIRE 3424 288 3376 288
WIRE 3552 288 3504 288
WIRE 3648 288 3552 288
WIRE 3776 288 3712 288
WIRE 1968 320 1968 224
WIRE 2000 320 1968 320
WIRE 2112 336 2064 336
WIRE 2192 336 2192 224
WIRE 2192 336 2176 336
WIRE 2224 336 2192 336
WIRE 2336 336 2336 -16
WIRE 2336 336 2304 336
WIRE 1840 352 1760 352
WIRE 1936 352 1920 352
WIRE 2000 352 1936 352
WIRE 3552 384 3552 288
WIRE 3584 384 3552 384
WIRE 3696 400 3648 400
WIRE 3776 400 3776 288
WIRE 3776 400 3760 400
WIRE 3808 400 3776 400
WIRE 3920 400 3920 48
WIRE 3920 400 3888 400
WIRE 3424 416 3344 416
WIRE 3520 416 3504 416
WIRE 3584 416 3520 416
WIRE 1936 432 1936 352
WIRE 2032 432 1936 432
WIRE 1936 448 1936 432
WIRE 2032 448 2032 432
WIRE 3520 496 3520 416
WIRE 3616 496 3520 496
WIRE 3520 512 3520 496
WIRE 3616 512 3616 496
WIRE 2032 528 2032 512
WIRE 3616 592 3616 576
FLAG 2016 -672 0
FLAG 1600 -208 0
FLAG 1664 -800 0
FLAG 1616 -928 vin
FLAG 1776 -800 0
FLAG 1776 -880 vcc
FLAG 1888 -800 0
FLAG 1888 -880 vee
FLAG 2096 -624 vin
FLAG 2096 -400 vset
FLAG 2032 -48 vcc
FLAG 2032 16 vee
FLAG 2400 -16 vset
FLAG 1952 -736 vout
FLAG 2336 -352 0
FLAG 2288 -512 vset
FLAG 2416 -512 vout
FLAG 1872 -160 0
FLAG 1744 80 0
FLAG 2032 304 vcc
FLAG 2032 368 vee
FLAG 1792 224 imon
FLAG 1904 80 0
FLAG 1600 -384 imon
FLAG 2032 528 0
FLAG 1936 528 0
FLAG 1760 432 0
FLAG 2368 -656 0
FLAG 1696 -928 vcc
FLAG 3600 -608 0
FLAG 3184 -144 0
FLAG 3680 -560 vin
FLAG 3680 -336 vset2
FLAG 3616 16 vcc
FLAG 3616 80 vee
FLAG 3984 48 vset2
FLAG 3536 -672 vout2
FLAG 3920 -288 0
FLAG 3936 -448 vset2
FLAG 4064 -448 vout2
FLAG 3456 -96 0
FLAG 3328 144 0
FLAG 3616 368 vcc
FLAG 3616 432 vee
FLAG 3376 288 imon2
FLAG 3488 144 0
FLAG 3184 -320 imon2
FLAG 3616 592 0
FLAG 3520 592 0
FLAG 3344 496 0
FLAG 4240 -544 0
SYMBOL cap 2000 -736 R0
WINDOW 0 45 26 Left 2
WINDOW 3 46 57 Left 2
SYMATTR InstName C10
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=0.5
SYMBOL PowerProducts\\LT3081 2096 -512 R0
SYMATTR InstName U4
SYMBOL voltage 1664 -896 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage 1776 -896 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR InstName V6
SYMATTR Value 30
SYMBOL voltage 1888 -896 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value -3
SYMBOL current 2368 -736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 40 48 Left 2
WINDOW 0 44 16 Left 2
WINDOW 3 140 -33 Right 2
SYMATTR SpiceLine load
SYMATTR InstName I3
SYMATTR Value PULSE(20m 3 100m 1n 1n 500m 1)
SYMBOL res 1584 -304 R0
SYMATTR InstName R3
SYMATTR Value 500
SYMBOL res 2224 -720 R0
SYMATTR InstName R11
SYMATTR Value 10m
SYMBOL OpAmps\\UniversalOpamp2 2032 -16 R0
SYMATTR InstName U2
SYMBOL diode 2176 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 2320 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL cap 2064 -112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL res 2160 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 40k
SYMBOL current 2336 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I5
SYMATTR Value 2.5m
SYMBOL schottky 2320 -448 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -32 41 VTop 2
SYMATTR InstName D8
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2384 -576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 61 24 VBottom 2
SYMATTR InstName D9
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1888 -144 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL voltage 1744 -16 R0
WINDOW 0 -17 -5 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 2320 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpamp2 2032 336 R0
SYMATTR InstName U7
SYMBOL diode 2176 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL cap 2064 240 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C8
SYMATTR Value 1n
SYMBOL res 1936 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 2.2k
SYMBOL cap 1888 0 R0
WINDOW 0 38 17 Left 2
SYMATTR InstName C9
SYMATTR Value 1µ
SYMBOL res 1776 16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL cap 2016 448 R0
SYMATTR InstName C11
SYMATTR Value 1µ
SYMBOL res 1920 432 R0
SYMATTR InstName R24
SYMATTR Value 1.5k
SYMBOL voltage 1760 336 R0
WINDOW 0 -21 -11 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value 2
SYMBOL res 1936 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 10k
SYMBOL cap 3584 -672 R0
WINDOW 0 45 26 Left 2
WINDOW 3 46 57 Left 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=0.5
SYMBOL PowerProducts\\LT3081 3680 -448 R0
SYMATTR InstName U1
SYMBOL res 3168 -240 R0
SYMATTR InstName R1
SYMATTR Value 500
SYMBOL OpAmps\\UniversalOpamp2 3616 48 R0
SYMATTR InstName U3
SYMBOL diode 3760 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 3904 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL cap 3648 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL res 3744 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 47k
SYMBOL current 3920 -288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 2.5m
SYMBOL schottky 3968 -384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -32 41 VTop 2
SYMATTR InstName D3
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 4032 -512 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 61 24 VBottom 2
SYMATTR InstName D4
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 3472 -80 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 4.7k
SYMBOL voltage 3328 48 R0
WINDOW 0 -17 -5 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 96 Invisible 2
SYMATTR InstName V8
SYMATTR Value 2
SYMBOL res 3904 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpamp2 3616 400 R0
SYMATTR InstName U5
SYMBOL diode 3760 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL cap 3648 304 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL res 3520 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2.2k
SYMBOL cap 3472 64 R0
WINDOW 0 38 17 Left 2
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL res 3360 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL cap 3600 512 R0
SYMATTR InstName C6
SYMATTR Value 1µ
SYMBOL res 3504 496 R0
SYMATTR InstName R10
SYMATTR Value 1.5k
SYMBOL voltage 3344 400 R0
WINDOW 0 -21 -11 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PWL(0 0 .8 2.5)
SYMBOL res 3520 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 4224 -640 R0
SYMATTR InstName R14
SYMATTR Value 5
TEXT 2136 -944 Left 2 !.tran 1 startup uic
TEXT 2400 -312 Left 2 ;LT3092
TEXT 1696 24 Right 2 ;VOLTAGE DAC\n0 ... 2.5V
TEXT 1712 376 Right 2 ;CURRENT DAC\n0 ... 2.5 V
TEXT 2104 456 Left 2 ;0 ... 300mV
TEXT 1640 -1040 Left 2 ;Use differential feedback to keep\nVIN 2 volts about VOUT
TEXT 3984 -248 Left 2 ;LT3092
TEXT 3280 88 Right 2 ;VOLTAGE DAC\n0 ... 2.5V
TEXT 3296 440 Right 2 ;CURRENT DAC\n0 ... 2.5 V
TEXT 3688 520 Left 2 ;0 ... 300mV

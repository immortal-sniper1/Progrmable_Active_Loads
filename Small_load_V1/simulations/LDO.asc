Version 4
SHEET 1 14016 4660
WIRE -512 -720 -512 -784
WIRE -288 -720 -288 -784
WIRE -512 -608 -512 -640
WIRE -288 -608 -288 -640
WIRE -592 -320 -592 -352
WIRE 2064 -320 1840 -320
WIRE 2400 -320 2128 -320
WIRE 224 -80 -32 -80
WIRE 512 -80 224 -80
WIRE 688 -80 592 -80
WIRE 1088 -80 688 -80
WIRE 1840 -80 1840 -320
WIRE 1840 -80 1088 -80
WIRE 2064 -80 1840 -80
WIRE 2400 -80 2400 -320
WIRE 2400 -80 2160 -80
WIRE 2720 -80 2400 -80
WIRE 2816 -80 2720 -80
WIRE 2864 -80 2864 -192
WIRE 2864 -80 2816 -80
WIRE 3024 -80 2864 -80
WIRE 3392 -80 3024 -80
WIRE 1088 -48 1088 -80
WIRE 2816 -32 2816 -80
WIRE 224 0 224 -80
WIRE 688 0 688 -80
WIRE -32 16 -32 -80
WIRE 3024 16 3024 -80
WIRE 3392 16 3392 -80
WIRE 1088 48 1088 16
WIRE 2720 64 2720 -80
WIRE 2816 64 2816 32
WIRE 2112 112 2112 -16
WIRE 688 128 688 80
WIRE 688 128 320 128
WIRE 784 128 688 128
WIRE 912 128 864 128
WIRE -32 144 -32 96
WIRE 2080 144 2064 144
WIRE 2176 144 2176 128
WIRE 2176 144 2144 144
WIRE 448 160 432 160
WIRE 448 192 448 160
WIRE 3024 192 3024 96
WIRE 320 208 320 128
WIRE 416 208 320 208
WIRE 1104 208 1104 192
WIRE 2128 208 2128 176
WIRE 2720 208 2720 144
WIRE 2720 208 2128 208
WIRE 912 224 912 128
WIRE 912 224 480 224
WIRE 1072 224 912 224
WIRE 224 240 224 80
WIRE 416 240 224 240
WIRE 1248 240 1136 240
WIRE 1424 240 1328 240
WIRE 1760 240 1488 240
WIRE 1072 256 992 256
WIRE 2720 256 2720 208
WIRE 224 272 224 240
WIRE 448 272 448 256
WIRE 2096 272 2096 176
WIRE 2304 272 2096 272
WIRE 2464 272 2304 272
WIRE 2096 288 2096 272
WIRE 1104 304 1104 272
WIRE 1120 304 1104 304
WIRE 992 320 992 256
WIRE 2464 320 2464 272
WIRE 2720 368 2720 336
WIRE 224 432 224 352
WIRE 1760 432 1760 240
WIRE 2096 432 2096 368
WIRE 2096 432 1760 432
WIRE 2464 432 2464 384
WIRE 2096 528 2096 432
WIRE 1984 640 1984 624
WIRE 1952 656 1856 656
WIRE 2096 672 2096 608
WIRE 2096 672 2016 672
WIRE 1952 688 1920 688
WIRE 1984 736 1984 704
WIRE 2000 736 1984 736
WIRE 1920 784 1920 688
WIRE 2176 784 1920 784
WIRE 2304 784 2304 272
WIRE 2304 784 2256 784
WIRE 1920 864 1920 784
WIRE 1920 1024 1920 944
WIRE 2080 1344 1856 1344
WIRE 2416 1344 2144 1344
WIRE 240 1584 -16 1584
WIRE 528 1584 240 1584
WIRE 704 1584 608 1584
WIRE 1104 1584 704 1584
WIRE 1808 1584 1104 1584
WIRE 1856 1584 1856 1344
WIRE 1856 1584 1808 1584
WIRE 2080 1584 1856 1584
WIRE 2416 1584 2416 1344
WIRE 2416 1584 2176 1584
WIRE 2736 1584 2416 1584
WIRE 2832 1584 2736 1584
WIRE 2880 1584 2880 1472
WIRE 2880 1584 2832 1584
WIRE 3040 1584 2880 1584
WIRE 3408 1584 3040 1584
WIRE 1104 1616 1104 1584
WIRE 1808 1616 1808 1584
WIRE 2832 1632 2832 1584
WIRE 240 1664 240 1584
WIRE 704 1664 704 1584
WIRE 2096 1664 2096 1632
WIRE 2128 1664 2096 1664
WIRE -16 1680 -16 1584
WIRE 3040 1680 3040 1584
WIRE 3408 1680 3408 1584
WIRE 2128 1696 2128 1664
WIRE 2128 1696 1808 1696
WIRE 1104 1712 1104 1680
WIRE 2736 1728 2736 1584
WIRE 2832 1728 2832 1696
WIRE 2128 1776 2128 1696
WIRE 704 1792 704 1744
WIRE 704 1792 336 1792
WIRE 800 1792 704 1792
WIRE 928 1792 880 1792
WIRE -16 1808 -16 1760
WIRE 2096 1808 2080 1808
WIRE 2192 1808 2192 1792
WIRE 2192 1808 2160 1808
WIRE 464 1824 448 1824
WIRE 464 1856 464 1824
WIRE 3040 1856 3040 1760
WIRE 336 1872 336 1792
WIRE 432 1872 336 1872
WIRE 1120 1872 1120 1856
WIRE 2144 1872 2144 1840
WIRE 2736 1872 2736 1808
WIRE 2736 1872 2144 1872
WIRE 928 1888 928 1792
WIRE 928 1888 496 1888
WIRE 1088 1888 928 1888
WIRE 240 1904 240 1744
WIRE 432 1904 240 1904
WIRE 1264 1904 1152 1904
WIRE 1440 1904 1344 1904
WIRE 1776 1904 1504 1904
WIRE 1088 1920 1008 1920
WIRE 2736 1920 2736 1872
WIRE 240 1936 240 1904
WIRE 464 1936 464 1920
WIRE 2112 1936 2112 1840
WIRE 2320 1936 2112 1936
WIRE 2480 1936 2320 1936
WIRE 2112 1952 2112 1936
WIRE 1120 1968 1120 1936
WIRE 1136 1968 1120 1968
WIRE 1008 1984 1008 1920
WIRE 2480 1984 2480 1936
WIRE 2736 2032 2736 2000
WIRE 240 2096 240 2016
WIRE 1776 2096 1776 1904
WIRE 2112 2096 2112 2032
WIRE 2112 2096 1776 2096
WIRE 2480 2096 2480 2048
WIRE 2112 2192 2112 2096
WIRE 2000 2304 2000 2288
WIRE 1968 2320 1872 2320
WIRE 2112 2336 2112 2272
WIRE 2112 2336 2032 2336
WIRE 1968 2352 1936 2352
WIRE 2000 2400 2000 2368
WIRE 2016 2400 2000 2400
WIRE 1936 2448 1936 2352
WIRE 2192 2448 1936 2448
WIRE 2320 2448 2320 1936
WIRE 2320 2448 2272 2448
WIRE 1936 2528 1936 2448
WIRE 1936 2688 1936 2608
WIRE 2096 3088 1872 3088
WIRE 2432 3088 2160 3088
WIRE 464 3328 192 3328
WIRE 832 3328 720 3328
WIRE 1120 3328 832 3328
WIRE 1296 3328 1200 3328
WIRE 1872 3328 1872 3088
WIRE 1872 3328 1296 3328
WIRE 2032 3328 1872 3328
WIRE 2432 3328 2432 3088
WIRE 2432 3328 2288 3328
WIRE 2672 3328 2432 3328
WIRE 2672 3392 2672 3328
WIRE 832 3408 832 3328
WIRE 1296 3408 1296 3328
WIRE 192 3488 192 3328
WIRE 1296 3536 1296 3488
WIRE 1296 3536 928 3536
WIRE 1392 3536 1296 3536
WIRE 1520 3536 1472 3536
WIRE 2160 3536 2160 3424
WIRE 2672 3536 2672 3472
WIRE 2672 3536 2160 3536
WIRE 1056 3568 1040 3568
WIRE 2672 3584 2672 3536
WIRE 1056 3600 1056 3568
WIRE 192 3616 192 3568
WIRE 928 3616 928 3536
WIRE 1024 3616 928 3616
WIRE 1520 3632 1520 3536
WIRE 1520 3632 1088 3632
WIRE 832 3648 832 3488
WIRE 1024 3648 832 3648
WIRE 832 3680 832 3648
WIRE 1056 3680 1056 3664
WIRE 2672 3696 2672 3664
WIRE 1520 3728 1520 3632
WIRE 832 3840 832 3760
WIRE 1264 3872 1168 3872
WIRE 1520 3872 1520 3808
WIRE 1520 3872 1344 3872
WIRE 1312 3968 1296 3968
WIRE 1296 4000 1296 3968
WIRE 1520 4016 1520 3872
WIRE 1520 4016 1328 4016
WIRE 592 4032 592 3424
WIRE 1168 4032 1168 3872
WIRE 1168 4032 592 4032
WIRE 1264 4032 1168 4032
WIRE 1376 4048 1328 4048
WIRE 1568 4048 1376 4048
WIRE 1712 4048 1648 4048
WIRE 1296 4080 1296 4064
WIRE 1376 4128 1376 4048
WIRE 1376 4288 1376 4208
FLAG 224 432 0
FLAG 1088 48 0
FLAG 2816 64 0
FLAG 1920 1024 0
FLAG 992 320 Vdac1
FLAG 1856 656 Vdac2
FLAG 2864 -192 Vout
FLAG 2464 432 0
FLAG -32 144 0
FLAG -512 -784 Vdac1
FLAG -288 -784 Vdac2
FLAG -288 -608 0
FLAG -512 -608 0
FLAG 3024 192 0
FLAG 2720 368 0
FLAG -592 -240 0
FLAG -592 -352 V_opamp
FLAG 432 160 V_opamp
FLAG 448 272 0
FLAG 1120 304 V_opamp
FLAG 1104 192 0
FLAG 2000 736 V_opamp
FLAG 1984 624 0
FLAG 2176 128 V_opamp
FLAG 2064 144 0
FLAG 3392 80 0
FLAG 240 2096 0
FLAG 1104 1712 0
FLAG 2832 1728 0
FLAG 1936 2688 0
FLAG 1008 1984 Vdac1
FLAG 1872 2320 Vdac2
FLAG 2880 1472 Vout2
FLAG 2480 2096 0
FLAG -16 1808 0
FLAG 3040 1856 0
FLAG 2736 2032 0
FLAG 448 1824 V_opamp
FLAG 464 1936 0
FLAG 1136 1968 V_opamp
FLAG 1120 1856 0
FLAG 2016 2400 V_opamp
FLAG 2000 2288 0
FLAG 2192 1792 V_opamp
FLAG 2080 1808 0
FLAG 3408 1744 0
FLAG 832 3840 0
FLAG 1040 3568 V_opamp
FLAG 1056 3680 0
FLAG 2672 3696 0
FLAG 192 3616 0
FLAG 1312 3968 V_opamp
FLAG 1296 4080 0
FLAG 1712 4048 Vdac1
FLAG 1376 4288 0
SYMBOL res 208 -16 R0
SYMATTR InstName R1
SYMATTR Value {Rx}
SYMBOL res 208 256 R0
SYMATTR InstName R2
SYMATTR Value {Ry}
SYMBOL res 496 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 50m
SYMBOL res 704 96 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value {Rx}
SYMBOL res 768 144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value {Ry}
SYMBOL cap 1072 -48 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL res 1344 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL diode 2128 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4007
SYMBOL npn 2064 -16 R270
SYMATTR InstName Q2
SYMATTR Value FJN13003
SYMBOL cap 2800 -32 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 2080 272 R0
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL res 2080 512 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 2272 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res 1904 848 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL cap 2448 320 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL voltage -32 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR SpiceLine Rser=.001
SYMATTR Value 30
SYMATTR InstName V1
SYMBOL voltage -512 -736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 1
SYMBOL voltage -288 -736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL res 2704 48 R0
SYMATTR InstName R47
SYMATTR Value 10k
SYMBOL res 2704 240 R0
SYMATTR InstName R48
SYMATTR Value 10k
SYMBOL voltage -592 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value 10
SYMBOL diode 1488 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D9
SYMATTR Value 1N4007
SYMBOL ZZZ\\OpAmp\\LM324_ST 448 224 R0
SYMATTR InstName U1
SYMBOL ZZZ\\OpAmp\\LM324_ST 2112 144 M270
SYMATTR InstName U4
SYMBOL ZZZ\\OpAmp\\LM324_ST 1104 240 M180
SYMATTR InstName U6
SYMBOL ZZZ\\OpAmp\\LM324_ST 1984 672 M180
SYMATTR InstName U7
SYMBOL load 3376 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PWL(0 0.1 10 .5)
SYMBOL res 224 1648 R0
SYMATTR InstName R7
SYMATTR Value {Rx}
SYMBOL res 224 1920 R0
SYMATTR InstName R12
SYMATTR Value {Ry}
SYMBOL res 512 1600 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 50m
SYMBOL res 720 1760 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value {Rx}
SYMBOL res 784 1808 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value {Ry}
SYMBOL cap 1088 1616 R0
SYMATTR InstName C4
SYMATTR Value 47µ
SYMBOL res 1360 1888 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL diode 2144 1328 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4007
SYMBOL cap 2816 1632 R0
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL res 2096 1936 R0
SYMATTR InstName R17
SYMATTR Value 100
SYMBOL res 2096 2176 R0
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res 2288 2432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL res 1920 2512 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL cap 2464 1984 R0
SYMATTR InstName C6
SYMATTR Value 1µ
SYMBOL voltage -16 1664 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR SpiceLine Rser=.001
SYMATTR Value 30
SYMATTR InstName V4
SYMBOL res 2720 1712 R0
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL res 2720 1904 R0
SYMATTR InstName R22
SYMATTR Value 10k
SYMBOL diode 1504 1888 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4007
SYMBOL ZZZ\\OpAmp\\LM324_ST 464 1888 R0
SYMATTR InstName U2
SYMBOL ZZZ\\OpAmp\\LM324_ST 2128 1808 M270
SYMATTR InstName U3
SYMBOL ZZZ\\OpAmp\\LM324_ST 1120 1904 M180
SYMATTR InstName U5
SYMBOL ZZZ\\OpAmp\\LM324_ST 2000 2336 M180
SYMATTR InstName U8
SYMBOL load 3392 1680 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value PWL(0 0.1 10 .5)
SYMBOL pmos 2176 1632 M270
SYMATTR InstName M1
SYMATTR Value Si7489DP
SYMBOL res 1792 1600 R0
SYMATTR InstName R23
SYMATTR Value 20k
SYMBOL ZZZ\\VolReg\\LM317-TI 2160 3328 R0
SYMATTR InstName U10
SYMBOL ZZZ\\VolReg\\LM317-TI 592 3328 R0
SYMATTR InstName U11
SYMBOL res 816 3392 R0
SYMATTR InstName R24
SYMATTR Value {Rx}
SYMBOL res 816 3664 R0
SYMATTR InstName R25
SYMATTR Value {Ry}
SYMBOL res 1104 3344 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R26
SYMATTR Value 50m
SYMBOL res 1312 3504 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R27
SYMATTR Value {Rx}
SYMBOL res 1376 3552 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R28
SYMATTR Value {Ry}
SYMBOL ZZZ\\OpAmp\\LM324_ST 1056 3632 R0
SYMATTR InstName U9
SYMBOL diode 2160 3072 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4007
SYMBOL res 2656 3376 R0
SYMATTR InstName R29
SYMATTR Value 10k
SYMBOL res 2656 3568 R0
SYMATTR InstName R30
SYMATTR Value 10k
SYMBOL voltage 192 3472 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR SpiceLine Rser=.001
SYMATTR Value 30
SYMATTR InstName V5
SYMBOL ZZZ\\OpAmp\\LM324_ST 1296 4032 M0
SYMATTR InstName U12
SYMBOL res 1504 3712 R0
SYMATTR InstName R31
SYMATTR Value {Ra}
SYMBOL res 1360 3856 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value {Rb}
SYMBOL res 1360 4112 R0
SYMATTR InstName R33
SYMATTR Value {Rb}
SYMBOL res 1664 4032 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value {Ra}
TEXT 8 -928 Left 2 !.tran 10
TEXT 0 -832 Left 2 !*.step param V_IN  0 36 2
TEXT 488 -848 Left 2 !.param Rx 10k
TEXT 488 -816 Left 2 !.param Ry 100k
TEXT 488 -784 Left 2 !*.param R_load (1.1k-100*time )
TEXT 488 -728 Left 2 !.param Ra 10k
TEXT 488 -696 Left 2 !.param Rb 100k
